<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>srcadapt</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <link href="http://code.jquery.com/qunit/qunit-1.21.0.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://code.jquery.com/qunit/qunit-1.21.0.js"></script>

<script src="../srcadapt.js"></script>
<style>
    .widthrow{
        margin-top: 35px;
    }
    img.srcadapt{
        max-width: 100%;
    }



</style>
  </head>
  <body>
    

      
      
<div class="container">

    <div class="row widthrow">
        <div class="col-xs-4 col-xs-offset-4">
            <div class="alert alert-info">
                <p>Viewport width: <kbd id="vw"></kbd>px</p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">

        <img src="img/demo500.jpg" class="srcadapt"
             data-xs="img/demo500.jpg"
             data-sm="img/demo800.jpg"
             data-md="img/demo1100.jpg"
             data-lg="img/demo1920.jpg" />
          



        <img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=" class="srcadapt"
             data-xs="img/demo500.jpg"
             data-sm="img/demo800.jpg"
             data-md="img/demo1100.jpg"
             data-lg="img/demo1920.jpg" alt="dasdas" />


        </div>
    </div>
</div>
      


<script>
var $vw = $('#vw'),
    width  = (function(){
        if(window.innerWidth) return window.innerWidth;
        else return document.documentElement.clientWidth
    })(),
    resizetimeout;
    $vw.text(width);

    $(window).on('resize', function(){
        window.clearTimeout(resizetimeout);
        resizetimeout = window.setTimeout(function(){
            width  = (function(){
                if(window.innerWidth) return window.innerWidth;
                else return document.documentElement.clientWidth
            })();
            $vw.text(width);
        },40);
    });

    srcadapt.all()
    //srcadapt( document.querySelectorAll('.srcadapt')  )
        
$(function(){

});
        

</script>
  </body>
</html>
